<header class="bg-primary-500 text-white" data-controller="mobile-menu">
  <div class="container mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
      <%= link_to root_path, class: "text-2xl font-bold flex items-center" do %>
        <%= image_tag "medieval.png", alt: "Medieval Icon", class: "w-8 h-8 mr-2" %>
        Read the Junior Classics
      <% end %>
      <nav class="hidden md:block">
        <ul class="flex space-x-4">
          <%= link_to "Home", root_path, class: "hover:text-primary-200" %>
          <%= link_to "Programs", programs_path, class: "hover:text-primary-200" %>
          <%= link_to "Literary Works", literary_works_path, class: "hover:text-primary-200" %>
          <%= link_to "Collections", collections_path, class: "hover:text-primary-200" %>
          <% if user_signed_in? %>
            <%= link_to "My Children", user_children_path(current_user), class: "hover:text-primary-200" %>
            <%= button_to "Log Out", logout_path, method: :delete, class: "hover:text-primary-200" %>
          <% else %>
            <%= link_to "Log In", login_path, class: "hover:text-primary-200" %>
            <%= link_to "Sign Up", sign_up_path, class: "hover:text-primary-200" %>
          <% end %>
          <div class="flex items-center">|</div>
          <div class="flex items-center">
            <input type="checkbox" id="theme-toggle" class="hidden" data-theme-target="toggle" data-action="change->theme#toggle">
            <label for="theme-toggle" class="flex items-center cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
            </label>
          </div>
        </ul>
      </nav>
      <button class="md:hidden" data-action="click->mobile-menu#toggle">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <div class="md:hidden mt-4 hidden" data-mobile-menu-target="menu">
      <nav>
        <ul class="flex flex-col space-y-2">
          <%= link_to "Home", root_path, class: "hover:text-primary-200" %>
          <%= link_to "Programs", programs_path, class: "hover:text-primary-200" %>
          <%= link_to "Literary Works", literary_works_path, class: "hover:text-primary-200" %>
          <%= link_to "Collections", collections_path, class: "hover:text-primary-200" %>
          <% if user_signed_in? %>
            <%= link_to "My Children", user_children_path(current_user), class: "hover:text-primary-200" %>
            <%= button_to "Log Out", logout_path, method: :delete, class: "hover:text-primary-200 text-left w-full" %>
          <% else %>
            <%= link_to "Log In", login_path, class: "hover:text-primary-200" %>
            <%= link_to "Sign Up", sign_up_path, class: "hover:text-primary-200" %>
          <% end %>

          <hr class="w-1/3 my-2" />
          <div class="flex items-center">
            <input type="checkbox" id="theme-toggle" class="hidden" data-theme-target="toggle" data-action="change->theme#toggle">
            <label for="theme-toggle" class="flex items-center cursor-pointer">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
            </label>
          </div>
        </ul>
      </nav>
    </div>
  </div>
</header>
