<header class="bg-primary-500 text-white" data-controller="mobile-menu">
  <div class="container mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
      <%= link_to root_path, class: "text-2xl font-bold flex items-center" do %>
        <%= image_tag "medieval.png", alt: "Medieval Icon", class: "w-8 h-8 mr-2" %>
        Read the Junior Classics
      <% end %>
      <nav class="hidden md:block">
        <ul class="flex space-x-4">
          <%= link_to "Home", root_path, class: "hover:text-primary-200" %>
          <%= link_to "Programs", programs_path, class: "hover:text-primary-200" %>
          <%= link_to "Literary Works", literary_works_path, class: "hover:text-primary-200" %>
          <%= link_to "Collections", collections_path, class: "hover:text-primary-200" %>
          <% if user_signed_in? %>
            <%= link_to "My Children", user_children_path(current_user), class: "hover:text-primary-200" %>
            <%= button_to "Log Out", logout_path, method: :delete, class: "hover:text-primary-200" %>
          <% else %>
            <%= link_to "Log In", login_path, class: "hover:text-primary-200" %>
            <%= link_to "Sign Up", sign_up_path, class: "hover:text-primary-200" %>
          <% end %>
        </ul>
      </nav>
      <button class="md:hidden" data-action="click->mobile-menu#toggle">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <div class="md:hidden mt-4 hidden" data-mobile-menu-target="menu">
      <nav>
        <ul class="flex flex-col space-y-2">
          <%= link_to "Home", root_path, class: "hover:text-primary-200" %>
          <%= link_to "Programs", programs_path, class: "hover:text-primary-200" %>
          <%= link_to "Literary Works", literary_works_path, class: "hover:text-primary-200" %>
          <%= link_to "Collections", collections_path, class: "hover:text-primary-200" %>
          <% if user_signed_in? %>
            <%= link_to "My Children", user_children_path(current_user), class: "hover:text-primary-200" %>
            <%= button_to "Log Out", logout_path, method: :delete, class: "hover:text-primary-200 text-left w-full" %>
          <% else %>
            <%= link_to "Log In", login_path, class: "hover:text-primary-200" %>
            <%= link_to "Sign Up", sign_up_path, class: "hover:text-primary-200" %>
          <% end %>
        </ul>
      </nav>
    </div>
  </div>
</header>
